{"version":3,"sources":["common/services/atexo/atexo-util.service.ts"],"names":["Util","Util.constructor","Util.getInstance","Util.Path","Util.Rest","Util.RequestOptions","Util.Grep","Util.Map","Rewriter","Rewriter.constructor","Rewriter.checkUri","Rewriter.setPath","Rewriter.build","Path","Path.constructor","Rest","Rest.constructor","RequestOptions","RequestOptions.constructor","RequestOptions.setSearchParams"],"mappings":"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","file":"common/services/atexo/atexo-util.service.js","sourcesContent":["// app/common/services/atexo/atexo-util.service.ts\r\n/**\r\n *\r\n * @name atexo-util.service.ts\r\n *\r\n */\r\n\r\nimport {Injectable} from 'angular2/core';\r\nimport {URLSearchParams} from 'angular2/http';\r\nimport {isPresent, isJsObject, isString } from 'angular2/src/facade/lang';\r\n\r\nimport {AtexoPathConstant, AtexoRestConstant, RequestUrlType} from '../../constants/atexo.constant';\r\nimport construct = Reflect.construct;\r\n\r\n\r\n@Injectable()\r\nexport class Util {\r\n    static instance:Util;\r\n    static isCreating:Boolean = false;\r\n\r\n    constructor() {\r\n        if (!Util.isCreating) {\r\n            throw new Error('[Util] You can\\'t call new in Singleton instances!');\r\n        }\r\n    }\r\n\r\n    static getInstance() {\r\n        if (Util.instance == null) {\r\n            Util.isCreating = true;\r\n            Util.instance = new Util();\r\n            Util.isCreating = false;\r\n        }\r\n        return Util.instance;\r\n    }\r\n\r\n    Path() {\r\n        return new Path();\r\n    }\r\n\r\n    Rest() {\r\n        return new Rest();\r\n    }\r\n\r\n    RequestOptions() {\r\n        return new RequestOptions();\r\n    }\r\n\r\n    Grep(arr, callback) {\r\n        let newArr = [],\r\n            len = arr.length,\r\n            i;\r\n        for (i = 0; i < len; i++) {\r\n            var e = arr[i];\r\n            if (callback(e)) {\r\n                newArr.push(e);\r\n            }\r\n        }\r\n        return newArr;\r\n    }\r\n\r\n    Map(arr, callback) {\r\n        let newArr = [],\r\n            len = arr.length,\r\n            i;\r\n        for (i = 0; i < len; i++) {\r\n            var e = arr[i];\r\n            var n = callback(e);\r\n            newArr.push(n);\r\n        }\r\n        return newArr;\r\n    }\r\n\r\n}\r\n\r\n\r\nclass Rewriter {\r\n    private base:string = '';\r\n    private uri:string = '';\r\n    private type:number = RequestUrlType.Relative;\r\n\r\n    constructor(base:string, uri?:any) {\r\n        uri = isPresent(uri) ? uri : '';\r\n        this.base = base;\r\n        this.checkUri(uri);\r\n    }\r\n\r\n    private checkUri(uri:any) {\r\n        if (isString(uri)) {\r\n            this.type = RequestUrlType.Relative;\r\n            this.uri = uri;\r\n        } else {\r\n            this.type = uri['type'];\r\n            this.uri = uri['url'];\r\n        }\r\n        return this;\r\n    }\r\n\r\n    setPath(uri:any):Rewriter {\r\n        this.checkUri(uri);\r\n        return this;\r\n    }\r\n\r\n    build():string {\r\n        if (this.type === RequestUrlType.Relative) {\r\n            return this.base + this.uri;\r\n        }\r\n        return this.uri;\r\n\r\n    }\r\n}\r\n\r\nclass Path extends Rewriter {\r\n    constructor(path?:string) {\r\n        path = isPresent(path) ? path : '';\r\n        super(AtexoPathConstant.base, path);\r\n    }\r\n}\r\n\r\nclass Rest extends Rewriter {\r\n    constructor(url?:string) {\r\n        url = isPresent(url) ? url : '';\r\n        super(AtexoRestConstant.baseUrl, url);\r\n    }\r\n}\r\n\r\nclass RequestOptions {\r\n\r\n    searchParams:URLSearchParams;\r\n\r\n    constructor() {\r\n        this.searchParams = new URLSearchParams();\r\n    }\r\n\r\n    setSearchParams(data?:Object):URLSearchParams {\r\n        if (!isPresent(data)) {\r\n            return;\r\n        } else {\r\n            if (isJsObject(data)) {\r\n                for (var item in data) {\r\n                    if (data.hasOwnProperty(item)) {\r\n                        this.searchParams.set(item, data[item]);\r\n                    }\r\n                }\r\n            }\r\n            return this.searchParams;\r\n        }\r\n    }\r\n}"],"sourceRoot":"/source/"}